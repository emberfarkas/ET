(this.webpackJsonpdcfs=this.webpackJsonpdcfs||[]).push([[15],{1052:function(e,t){},1054:function(e,t){},1061:function(e,t){},1062:function(e,t){},1156:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},1226:function(e,t,n){e.exports={switcher_item:"BridgeSwitcherItem_switcher_item__KqNmH"}},1227:function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"","type":"address"},{"indexed":false,"internalType":"uint256","name":"","type":"uint256"}],"name":"Received","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"inputs":[],"name":"depositEther","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"depositToken","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"getBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"offset","type":"uint256"}],"name":"getIn","outputs":[{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"internalType":"struct Bridge.TokenIn","name":"result","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"fromHash","type":"uint256"}],"name":"getOut","outputs":[{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"int256","name":"approveCount","type":"int256"}],"internalType":"struct Bridge.TokenOut","name":"result","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"operator1","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"operator2","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fromIndex","type":"uint256"},{"internalType":"address payable","name":"_to","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"sendEther","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fromIndex","type":"uint256"},{"internalType":"address","name":"_token","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"sendToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_operator","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"setOperator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]')},1228:function(e,t,n){e.exports={switch_item_right_icon:"Bridge_switch_item_right_icon__2UQwO",bridge_warpper:"Bridge_bridge_warpper__11mdS",bridge_from:"Bridge_bridge_from__j1Ljg",switcher_wrapper:"Bridge_switcher_wrapper__30TZW",connected:"Bridge_connected__nF34P",bordered:"Bridge_bordered__3rsc5",bridge_btn:"Bridge_bridge_btn__1QOaT",next:"Bridge_next__2sJft",modalItem:"Bridge_modalItem__2C-y7",loadingbox:"Bridge_loadingbox__2Jf-4",loader19:"Bridge_loader19__m5uJ4","loader-19":"Bridge_loader-19__cZjK1"}},1253:function(e,t,n){"use strict";n.r(t),n(602);var a,s,r,i=n(603),c=n.n(i),u=(n(94),n(82)),o=n.n(u),d=(n(157),n(121)),l=n.n(d),p=(n(154),n(95)),b=n.n(p),m=(n(246),n(85)),f=n.n(m),y=(n(244),n(83)),j=n.n(y),h=n(34),v=n(6),O=(n(245),n(153)),x=n.n(O),w=n(23),_=n.n(w),g=n(0),k=n(58),T=n.n(k),M=n(37),C=n.p+"static/media/arrow.2a00b366.svg",N=n.p+"static/media/right_b.86d88e9b.svg",I=n(1226),B=n.n(I),S=n(3),A=function(e){var t=e.title,n=e.data,a=e.children;return Object(S.jsxs)("div",{className:B.a.switcher_item,children:[Object(S.jsx)("div",{className:"font-16 l-c",children:t}),Object(S.jsxs)("div",{children:[Object(S.jsx)("img",{src:n.icon,alt:"logo"}),a,Object(S.jsx)("div",{children:n.name})]})]})},F=n(152),P=n(1227),E=n(93),J=n(869),L=n(146),q=n(618),R=n(207),H=n.n(R),U=n(1228),W=n.n(U),z=x.a.Option,D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;return Object(L.c)(new T.a(e.toString()).div(new T.a(10).pow(t)))},K=[E.a];t.default=function(){var e,t,n=Object(g.useState)(),i=Object(v.a)(n,2),u=i[0],d=i[1],p=Object(g.useState)(),m=Object(v.a)(p,2),y=m[0],O=m[1],w=Object(g.useState)(),k=Object(v.a)(w,2),I=k[0],B=k[1],R=Object(g.useState)(),U=Object(v.a)(R,2),Q=U[0],Z=U[1],Y=Object(g.useState)(E.a),$=Object(v.a)(Y,2),G=$[0],V=$[1],X=Object(g.useState)(0),ee=Object(v.a)(X,2),te=ee[0],ne=ee[1],ae=Object(g.useState)(),se=Object(v.a)(ae,2),re=se[0],ie=se[1],ce=Object(g.useState)(E.d),ue=Object(v.a)(ce,2),oe=ue[0],de=ue[1],le=Object(g.useState)(!1),pe=Object(v.a)(le,2),be=pe[0],me=pe[1],fe=Object(g.useState)(!1),ye=Object(v.a)(fe,2),je=ye[0],he=ye[1],ve=Object(g.useMemo)((function(){return G.name===E.a.name}),[G.name]),Oe=Object(g.useMemo)((function(){return G.name===E.i.name}),[G.name]),xe=Object(g.useMemo)((function(){return oe.name===E.i.name}),[oe.name]),we=Object(g.useMemo)((function(){return Oe?E.i.assets[0]:xe?E.d.assets[1]:G.assets[te]}),[te,G.assets,Oe,xe]),_e=Object(g.useMemo)((function(){return xe?(null==we?void 0:we.tronFee)||"0":(null==we?void 0:we.fee)||"0"}),[we.fee,we.tronFee,xe]),ge=Object(g.useMemo)((function(){return Oe?I:u}),[u,Oe,I]),ke=Object(g.useMemo)((function(){return Oe?Q:y}),[y,Oe,Q]),Te=Object(g.useMemo)((function(){if(!re)return 0;var e=new T.a(re).minus(_e);return e.gt(0)?e.toFixed():0}),[re,_e]),Me=Object(g.useCallback)(Object(h.a)(_.a.mark((function e(){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!u){e.next=14;break}if(!we.isNative){e.next=8;break}return e.next=5,J.b.eth.getBalance(u);case 5:t=e.sent,e.next=13;break;case 8:if(!(n=Object(J.a)(we.tokenAddress||""))){e.next=13;break}return e.next=12,n.methods.balanceOf(u).call();case 12:t=e.sent;case 13:O(D(t));case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(0);case 18:case"end":return e.stop()}}),e,null,[[0,16]])}))),[u,we]),Ce=Object(g.useCallback)(Object(h.a)(_.a.mark((function e(){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!I){e.next=7;break}return e.next=4,r.balanceOf(I).call();case 4:t=e.sent,n=t._hex,Z(D(n,6));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),B(""),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),[I]),Ne=Object(g.useCallback)((function(){Oe?Ce():Me()}),[Me,Ce,Oe]),Ie=Object(g.useCallback)(Object(h.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.request({method:"eth_requestAccounts"});case 3:t=e.sent,d(t[0]),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Be=Object(g.useCallback)(Object(h.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(s.defaultAddress.base58);case 1:case"end":return e.stop()}}),e)}))),[]),Se=Object(g.useCallback)(Object(h.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H()();case 3:if(a=e.sent){e.next=7;break}return j.a.error("Please install MetaMask!"),e.abrupt("return");case 7:Ie(),a.on("accountsChanged",(function(){Ie(),Me()})),a.on("chainChanged",(function(e){Me()})),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),[Ie,Me]),Ae=Object(g.useCallback)(Object(h.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,!(s=t.tronWeb)){e.next=17;break}return e.prev=3,e.next=6,s.contract().at(E.k);case 6:r=e.sent,window.addEventListener("message",(function(e){e.data.message&&"setNode"===e.data.message.action&&"_"!==e.data.message.data.node.chain&&j.a.error("Please use tronLink select the main chain!"),e.data.message&&"accountsChanged"===e.data.message.action&&(Be(),Ce())})),Be(),Ce(),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(3),e.t0;case 15:e.next=18;break;case 17:j.a.error("Please install TronLink!");case 18:case"end":return e.stop()}}),e,null,[[3,12]])}))),[Be,Ce]),Fe=Object(g.useCallback)((function(){Oe?Ae():Se()}),[Se,Ae,Oe]),Pe=Object(g.useCallback)(Object(h.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Oe){e.next=3;break}e.next=7;break;case 3:if(!u){e.next=7;break}return e.next=6,a.request({method:"wallet_addEthereumChain",params:[G.chainInfo]});case 6:Me();case 7:case"end":return e.stop()}}),e)}))),[u,G.chainInfo,Me,Oe]);Object(g.useEffect)((function(){Pe()}),[Pe]),Object(g.useEffect)((function(){Ne()}),[Ne]);var Ee=Object(g.useCallback)(Object(h.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V(oe),de(G),ie(""),ne(0);case 4:case"end":return e.stop()}}),e)}))),[G,oe]),Je=Object(g.useCallback)(Object(h.a)(_.a.mark((function e(){var t,n,i,c,o,d,l;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Oe){e.next=17;break}if("https://api.trongrid.io"===s.fullNode.host){e.next=5;break}j.a.error("Please use tronLink select the main chain!"),e.next=15;break;case 5:return e.prev=5,me(!0),e.next=9,r.transfer(E.j,Object(L.b)(re,6)).send().then((function(){me(!1),he(!1),Ce()})).catch((function(e){throw me(!1),e}));case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(5),me(!1),e.t0;case 15:e.next=44;break;case 17:if(a.chainId===(null===(t=G.chainInfo)||void 0===t?void 0:t.chainId)){e.next=20;break}return Pe(),e.abrupt("return");case 20:if(e.prev=20,me(!0),n=we.bridgeAddress,i=we.tokenAddress,c=Object(J.a)(n||"",P),o=Object(J.a)(i||""),d=function(){var e=Object(h.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.methods.depositToken(we.tokenAddress,Object(L.b)(re)).send({from:u}).on("receipt",(function(e){me(!1),e.status&&he(!1),Me()})).on("error",(function(){me(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we.isNative){e.next=37;break}if(!xe){e.next=31;break}o.methods.transfer(E.f,Object(L.b)(re)).send({from:u}).on("receipt",(function(e){me(!1),e.status&&he(!1),Me()})).on("error",(function(){me(!1)})),e.next=35;break;case 31:return e.next=33,o.methods.allowance(u,n).call();case 33:l=e.sent,0===Number(l)?o.methods.approve(n,Object(L.b)("999999999999")).send({from:u}).on("receipt",(function(e){e.status&&d()})).on("error",(function(){me(!1)})):d();case 35:e.next=38;break;case 37:c.methods.depositEther().send({from:u,value:Object(L.b)(re)}).on("receipt",(function(e){me(!1),e.status&&he(!1),Me()})).on("error",(function(){me(!1)}));case 38:e.next=44;break;case 40:throw e.prev=40,e.t1=e.catch(20),me(!1),e.t1;case 44:case"end":return e.stop()}}),e,null,[[5,11],[20,40]])}))),[Oe,re,Ce,null===(e=G.chainInfo)||void 0===e?void 0:e.chainId,Pe,we,u,Me,xe]),Le=Object(g.useCallback)(Object(h.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Oe?"https://api.trongrid.io"!==s.fullNode.host?j.a.error("Please use tronLink select the main chain!"):he(!0):a.chainId===(null===(t=G.chainInfo)||void 0===t?void 0:t.chainId)?he(!0):Pe();case 1:case"end":return e.stop()}}),e)}))),[Pe,null===(t=G.chainInfo)||void 0===t?void 0:t.chainId,Oe]),qe=Object(g.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(S.jsx)(b.a,{overlay:Object(S.jsx)(f.a,{children:K.map((function(n){return Object(S.jsx)(f.a.Item,{style:{color:e===n.name?"#00c299":"#000000d9"},onClick:function(){e!==n.name&&(t?V(n):de(n))},children:n.name},Object(M.generate)())}))}),children:Object(S.jsx)("div",{className:W.a.switch_item_right_icon,children:Object(S.jsx)(q.a,{})})})}),[]),Re=Object(g.useMemo)((function(){var e,t,n;return!re||0===Number(null!=re?re:0)||new T.a(re||0).gt(new T.a(ke||0))||!/^([1-9]\d*\.?\d*)|(0\.\d*[1-9])$/.test(new T.a(re||0).toFixed())||(Oe||xe)&&(null!==(e=null===(t=""+re)||void 0===t||null===(n=t.split(".")[1])||void 0===n?void 0:n.length)&&void 0!==e?e:0)>6}),[re,ke,Oe,xe]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"search_box",children:Object(S.jsx)(F.a,{})}),Object(S.jsx)("div",{className:W.a.bridge_warpper,children:Object(S.jsxs)("div",{className:W.a.bridge_from,children:[Object(S.jsx)("div",{className:"font-18",children:"DCFS Bridge"}),Object(S.jsxs)("div",{className:W.a.switcher_wrapper,children:[Object(S.jsx)(A,{title:"From:",data:G,children:G.name!==E.d.name&&K.length>1&&qe(G.name)}),Object(S.jsx)("div",{onClick:Ee,style:{transform:ve?"rotateY(180deg)":""},children:Object(S.jsx)("img",{src:C,alt:"arrow"})}),Object(S.jsx)(A,{title:"To:",data:oe,children:oe.name!==E.d.name&&K.length>1&&qe(oe.name,!1)})]}),Object(S.jsxs)("div",{className:"font-18",children:[Object(S.jsx)("span",{style:{marginRight:"10px"},children:"Asset:"}),[G.name,oe.name].includes(E.i.name)?Object(S.jsx)("span",{children:"USDT"}):Object(S.jsx)(x.a,{style:{minWidth:"150px"},value:te,size:"middle",onChange:function(e){ne(e),ie(""),Me()},children:G.assets.map((function(e,t){var n=e.name;return Object(S.jsx)(z,{value:t,children:n},Object(M.generate)())}))})]}),ge?Object(S.jsxs)("div",{className:W.a.connected,children:[Object(S.jsx)("div",{style:{marginBottom:"10px"},className:"font-18",children:"Amount:"}),Object(S.jsx)(l.a,{type:"number",size:"large",bordered:!1,value:re,style:{backgroundColor:"#f3f3f3"},onChange:function(e){var t=e.target;ie(t.value)}}),Object(S.jsxs)("div",{className:W.a.bordered,children:[Object(S.jsx)("div",{children:"Reminder"}),Object(S.jsxs)("div",{children:["Available: ",ke," ",we.name]})]}),Object(S.jsx)("div",{className:W.a.next,children:Object(S.jsx)(o.a,{type:"primary",onClick:Le,disabled:Re,children:"Next"})}),Object(S.jsxs)(c.a,{title:"Confirm",visible:je,footer:null,onCancel:function(){he(!1)},children:[Object(S.jsxs)("div",{className:W.a.modalItem,children:[Object(S.jsx)(A,{title:"From:",data:G}),Object(S.jsx)("img",{src:N,style:{position:"relative",top:"20px"},alt:""}),Object(S.jsx)(A,{title:"To:",data:oe})]}),Object(S.jsxs)("div",{className:W.a.modalItem,children:[Object(S.jsx)("span",{className:"l-c",children:"Asset"}),Object(S.jsx)("span",{children:we.name})]}),Object(S.jsxs)("div",{className:W.a.modalItem,children:[Object(S.jsx)("span",{className:"l-c",children:"Handling fee"}),Object(S.jsxs)("span",{children:[_e," ",we.name]})]}),Object(S.jsxs)("div",{className:W.a.modalItem,children:[Object(S.jsx)("span",{className:"l-c",children:"Receive Amount"}),Object(S.jsxs)("span",{children:[Te," ",we.name]})]}),Object(S.jsx)("div",{className:W.a.next,children:Object(S.jsx)(o.a,{type:"primary",onClick:Je,loading:be,children:"Confirm"})})]})]}):Object(S.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(S.jsx)("div",{onClick:Fe,className:W.a.bridge_btn,children:"Connect wallet"})})]})})]})}},869:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var a=n(870),s=n.n(a),r=n(1156),i=new s.a(s.a.givenProvider),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;if(e)return new i.eth.Contract(t,e)}},882:function(e,t){},885:function(e,t){},888:function(e,t){},892:function(e,t){},916:function(e,t){},918:function(e,t){},927:function(e,t){},929:function(e,t){},939:function(e,t){},941:function(e,t){}}]);